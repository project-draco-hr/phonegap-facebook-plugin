{
  return (proxy != null && proxy.type() != Proxy.Type.DIRECT) ? ((InetSocketAddress)proxy.address()).getAddress() : InetAddress.getByName(url.getHost());
}
