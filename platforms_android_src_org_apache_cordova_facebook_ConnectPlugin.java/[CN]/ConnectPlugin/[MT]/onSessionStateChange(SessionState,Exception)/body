{
  if (exception != null && exception instanceof FacebookOperationCanceledException) {
    Log.e(TAG,"exception:" + exception.toString());
    handleError(exception,loginContext);
  }
 else {
    final Session session=Session.getActiveSession();
    if (state.isOpened()) {
      if (loginContext != null) {
        getUserInfo(session);
      }
 else       if (graphContext != null) {
        makeGraphCall();
      }
    }
  }
}
