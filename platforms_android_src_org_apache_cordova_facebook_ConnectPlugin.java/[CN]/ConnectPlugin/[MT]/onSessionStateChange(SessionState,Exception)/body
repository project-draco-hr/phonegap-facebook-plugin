{
  if (exception != null) {
    if (loginContext != null) {
      handleError(exception,loginContext);
    }
  }
 else {
    final Session session=Session.getActiveSession();
    if (state.isOpened()) {
      if (loginContext != null) {
        getUserInfo(session);
      }
 else       if (graphContext != null) {
        makeGraphCall();
      }
    }
  }
}
