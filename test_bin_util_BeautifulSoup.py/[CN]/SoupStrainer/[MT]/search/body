def search(self, markup):
    found = None
    if (hasattr(markup, '__iter__') and (not isinstance(markup, Tag))):
        for element in markup:
            if (isinstance(element, NavigableString) and self.search(element)):
                found = element
                break
    elif isinstance(markup, Tag):
        if (not self.text):
            found = self.searchTag(markup)
    elif (isinstance(markup, NavigableString) or isinstance(markup, basestring)):
        if self._matches(markup, self.text):
            found = markup
    else:
        raise Exception, ("I don't know how to match against a %s" % markup.__class__)
    return found
