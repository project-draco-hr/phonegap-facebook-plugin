{
  Bundle extras=data.getExtras();
  String errorType=extras.getString(NativeProtocol.STATUS_ERROR_TYPE);
  if (NativeProtocol.ERROR_USER_CANCELED.equals(errorType) || NativeProtocol.ERROR_PERMISSION_DENIED.equals(errorType)) {
    return Result.createCancelResult(request,data.getStringExtra(NativeProtocol.STATUS_ERROR_DESCRIPTION));
  }
 else {
    String errorJson=extras.getString(NativeProtocol.STATUS_ERROR_JSON);
    String errorCode=null;
    if (errorJson != null) {
      try {
        JSONObject jsonObject=new JSONObject(errorJson);
        errorCode=jsonObject.getString("error_code");
      }
 catch (      JSONException e) {
      }
    }
    return Result.createErrorResult(request,errorType,data.getStringExtra(NativeProtocol.STATUS_ERROR_DESCRIPTION),errorCode);
  }
}
