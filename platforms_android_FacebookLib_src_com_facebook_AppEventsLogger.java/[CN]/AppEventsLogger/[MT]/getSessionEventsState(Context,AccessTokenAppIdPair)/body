{
synchronized (staticLock) {
    SessionEventsState state=stateMap.get(accessTokenAppId);
    if (state == null) {
      AttributionIdentifiers attributionIdentifiers=AttributionIdentifiers.getAttributionIdentifiers(context);
      state=new SessionEventsState(attributionIdentifiers,context.getPackageName(),hashedDeviceAndAppId);
      stateMap.put(accessTokenAppId,state);
    }
    return state;
  }
}
