{
  if (exception != null) {
    if (exception instanceof FacebookOperationCanceledException) {
      Log.d(TAG,"cancel");
      this.fba.success(new PluginResult(PluginResult.Status.NO_RESULT),this.fba.dialogCallbackId);
    }
 else     if (exception instanceof FacebookDialogException) {
      Log.d(TAG,"other error");
      this.fba.error("Dialog error: " + exception.getMessage(),this.fba.dialogCallbackId);
    }
 else {
      Log.d(TAG,"facebook error");
      this.fba.error("Facebook error: " + exception.getMessage(),this.fba.dialogCallbackId);
    }
  }
 else {
    if (values.size() > 0) {
      JSONObject response=new JSONObject();
      try {
        Set<String> keys=values.keySet();
        for (        String key : keys) {
          response.put(key,values.get(key));
        }
      }
 catch (      JSONException e) {
        e.printStackTrace();
      }
      this.fba.success(new PluginResult(PluginResult.Status.OK,response),this.fba.dialogCallbackId);
    }
 else {
      this.fba.success(new PluginResult(PluginResult.Status.OK),this.fba.dialogCallbackId);
    }
  }
}
