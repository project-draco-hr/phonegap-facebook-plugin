{
synchronized (staticLock) {
    SessionEventsState state=stateMap.get(accessTokenAppId);
    if (state == null) {
      String attributionId=Settings.getAttributionId(context.getContentResolver());
      state=new SessionEventsState(attributionId,context.getPackageName(),hashedDeviceAndAppId);
      stateMap.put(accessTokenAppId,state);
    }
    return state;
  }
}
