{
  String response;
  if (facebook.isSessionValid()) {
    long expiresTimeInterval=facebook.getAccessExpires() - System.currentTimeMillis();
    long expiresIn=(expiresTimeInterval > 0) ? expiresTimeInterval : 0;
    response="{" + "\"status\": \"connected\"," + "\"authResponse\": {"+ "\"accessToken\": \"" + facebook.getAccessToken() + "\","+ "\"expiresIn\": \""+ expiresIn+ "\","+ "\"session_key\": true,"+ "\"sig\": \"...\","+ "\"userId\": \""+ this.userId+ "\""+ "}"+ "}";
  }
 else {
    response="{" + "\"status\": \"unknown\"" + "}";
  }
  try {
    return new JSONObject(response);
  }
 catch (  JSONException e) {
    e.printStackTrace();
  }
  return new JSONObject();
}
